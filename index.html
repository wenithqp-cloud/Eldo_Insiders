<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eldo Insiders - School News</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:"Arial Black","Arial",sans-serif;}
body{display:flex;height:100vh;background-color:#fff8e1;color:#3b0000;overflow:hidden;}
.sidebar{width:250px;background-color:#800000;color:#ffd700;display:flex;flex-direction:column;justify-content:flex-start;padding:20px;}
.sidebar h1{font-size:30px;margin-bottom:15px;text-align:center;text-transform:uppercase;letter-spacing:2px;text-shadow:1px 1px #000;cursor:pointer;}
.nav-tabs{display:flex;flex-direction:column;gap:15px;margin-top:10px;}
.nav-tabs button{background:none;border:none;color:#ffd700;text-align:left;padding:10px 15px;font-size:18px;cursor:pointer;transition:background 0.3s;font-weight:bold;text-shadow:1px 1px #3b0000;}
.nav-tabs button:hover, .nav-tabs button.active{background-color:#660000;}
.main-content{flex:1;overflow-y:auto;padding:25px;position:relative;}
.main-content h2{color:#800000;margin-bottom:25px;font-size:36px;border-bottom:4px solid #ffd700;display:inline-block;text-shadow:1px 1px #000;}
.news-item, .video-item{border-bottom:2px solid #ffd700;margin-bottom:25px;padding:15px;position:relative;background:#fff5d6;border-radius:5px;}
.news-item img, .video-item iframe{max-width:100%;height:auto;margin-bottom:15px;border:2px solid #ffd700;border-radius:5px;}
.news-item h3, .video-item h3{font-size:24px;margin-bottom:10px;color:#660000;text-shadow:1px 1px #ffd700;}
.news-item p{font-size:16px;line-height:1.5;}
#ticker-container{width:100%;background:#800000;color:#ffd700;overflow:hidden;border-bottom:4px solid #ffd700;padding:5px 0;margin-bottom:20px;}
#ticker{display:inline-block;white-space:nowrap;position:relative;animation:scrollTicker 20s linear infinite;font-weight:bold;}
@keyframes scrollTicker{0%{left:100%;}100%{left:-100%;}}
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);justify-content:center;align-items:center;z-index:1000;}
.modal-content{background:#fff8e1;padding:20px;border:2px solid #ffd700;border-radius:10px;width:300px;position:relative;}
.modal-content h3{color:#800000;text-align:center;margin-bottom:10px;}
.modal-content input{width:100%;padding:8px;margin-bottom:10px;border:1px solid #ccc;border-radius:3px;}
.modal-content button{width:100%;padding:10px;background-color:#ffd700;color:#800000;border:none;cursor:pointer;font-weight:bold;}
.modal-content button:hover{background-color:#e6c200;}
.close-btn{position:absolute;top:5px;right:10px;font-size:20px;font-weight:bold;cursor:pointer;color:#800000;}
.edit-btn,.delete-btn{position:absolute;top:10px;right:10px;background:#ffd700;color:#800000;border:none;padding:5px 8px;margin-left:5px;cursor:pointer;border-radius:3px;font-weight:bold;}
.edit-btn:hover,.delete-btn:hover{background:#e6c200;}
#addSectionBtn{display:none;margin-top:20px;padding:10px;background:#ffd700;color:#800000;border:none;border-radius:5px;font-weight:bold;cursor:pointer;}
#addSectionBtn:hover{background:#e6c200;}
#emoji-bar{display:flex;gap:5px;margin-top:5px;flex-wrap:wrap;}
.emoji-btn{cursor:pointer;font-size:20px;}
.ticker-edit-container{display:none;margin-bottom:10px;}
#ticker-input{width:100%;padding:8px;border-radius:3px;border:1px solid #ccc;margin-bottom:5px;}
#saveTickerBtn{padding:5px 10px;background:#ffd700;color:#800000;border:none;cursor:pointer;border-radius:3px;font-weight:bold;}
#saveTickerBtn:hover{background:#e6c200;}
@media(max-width:768px){body{flex-direction:column;}.sidebar{width:100%;flex-direction:row;overflow-x:auto;}.nav-tabs{flex-direction:row;gap:10px;}.main-content{padding:15px;}}
</style>
</head>
<body>

<div class="sidebar">
<h1 id="logoButton">Eldo Insiders</h1>
<div class="nav-tabs" id="navTabs"></div>
<button id="addSectionBtn">+ Add Section</button>
</div>

<!-- Modal Login -->
<div class="modal" id="loginModal">
<div class="modal-content">
<span class="close-btn" onclick="closeLogin()">&times;</span>
<h3>Admin Login</h3>
<input type="text" id="adminUser" placeholder="Username">
<input type="password" id="adminPass" placeholder="Password">
<button onclick="adminLogin()">Login</button>
<p id="loginMsg" style="color:red;font-size:14px;text-align:center;margin-top:5px;"></p>
</div>
</div>

<div class="main-content">
<div id="ticker-container">
  <div id="ticker"></div>
  <div class="ticker-edit-container" id="tickerEditor">
    <input type="text" id="ticker-input" placeholder="Edit ticker items (separate with |)">
    <button id="saveTickerBtn">Save</button>
    <div id="emoji-bar"></div>
  </div>
</div>
<div id="tabContents"></div>
</div>

<script>
let isAdmin=false;

document.getElementById('logoButton').onclick=()=>document.getElementById('loginModal').style.display='flex';
function closeLogin(){document.getElementById('loginModal').style.display='none';}

// Admin login
function adminLogin(){
const user=document.getElementById('adminUser').value;
const pass=document.getElementById('adminPass').value;
const msg=document.getElementById('loginMsg');
if(user==='Eldo1973' && pass==='inside2026'){
isAdmin=true;
msg.style.color='green';
msg.innerText='Admin access granted!';
closeLogin();
document.getElementById('addSectionBtn').style.display='block';
document.getElementById('tickerEditor').style.display='block';
renderSite();
}else{msg.style.color='red';msg.innerText='Invalid credentials';}
}

// Load default site data
function loadData(){
let data=JSON.parse(localStorage.getItem('eldodata')||'{}');
if(!data.tabs){
data={
tabs:[
{name:"Home",items:[{type:"news",title:"School Year Kickoff!",text:"Students gathered to celebrate start of new school year.",img:"https://via.placeholder.com/600x300"}]},
{name:"Latest News",items:[{type:"news",title:"New Cafeteria Menu",text:"Healthier options this semester.",img:"https://via.placeholder.com/600x300"}]},
{name:"Features",items:[{type:"news",title:"Student Spotlight",text:"Jane shares her journey.",img:"https://via.placeholder.com/600x300"}]},
{name:"Sports",items:[{type:"news",title:"Basketball Wins!",text:"Regional championship clinched.",img:"https://via.placeholder.com/600x300"}]},
{name:"Entertainment",items:[{type:"news",title:"Drama Club Presents",text:"Shakespeare classic.",img:"https://via.placeholder.com/600x300"}]},
{name:"Videos",items:[{type:"video",title:"Assembly Highlights",url:"https://www.youtube.com/embed/dQw4w9WgXcQ"}]}
],
ticker:["Welcome to Eldo Insiders!","Breaking: New club fair Friday!"]
};
localStorage.setItem('eldodata',JSON.stringify(data));
}
window.eldoData=data;
renderSite();
}

// Render site
function renderSite(){
const nav=document.getElementById('navTabs');
nav.innerHTML="";
const tabContents=document.getElementById('tabContents');
tabContents.innerHTML="";
window.eldoData.tabs.forEach((tab,index)=>{
let btn=document.createElement('button');
btn.className="tab-btn";
btn.innerText=tab.name;
btn.onclick=()=>switchTab(index);
nav.appendChild(btn);

let div=document.createElement('div');
div.id="tab-"+index;
div.style.display=(index===0?'block':'none');
div.className="tab-content";
tabContents.appendChild(div);

// Render items
tab.items.forEach((item,i)=>renderItem(tab,index,item,i));

// Admin controls for sections
if(isAdmin){
let addItemBtn=document.createElement('button');
addItemBtn.innerText="+ Add Item";
addItemBtn.onclick=()=>addItem(index);
div.appendChild(addItemBtn);

let editTabBtn=document.createElement('button');
editTabBtn.innerText="Edit Section";
editTabBtn.onclick=()=>editSection(index);
div.appendChild(editTabBtn);

let delTabBtn=document.createElement('button');
delTabBtn.innerText="Delete Section";
delTabBtn.onclick=()=>{window.eldoData.tabs.splice(index,1);saveAndRender();}
div.appendChild(delTabBtn);
}
});
document.querySelectorAll('.tab-btn')[0].classList.add('active');
renderTicker();
}

// Tab switch
function switchTab(idx){
document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
document.querySelectorAll('.tab-btn')[idx].classList.add('active');
document.querySelectorAll('.tab-content').forEach((c,i)=>c.style.display=(i===idx?'block':'none'));
}

// Render single item
function renderItem(tab,tabIndex,item,itemIndex){
let container=document.getElementById('tab-'+tabIndex);
let div=document.createElement('div');
div.className=(item.type==="video")?"video-item":"news-item";
if(item.type==="video") div.innerHTML=`<h3>${item.title}</h3><iframe width="560" height="315" src="${item.url}" frameborder="0" allowfullscreen></iframe>`;
else div.innerHTML=`<img src="${item.img}"><h3>${item.title}</h3><p>${item.text}</p>`;

// Admin buttons for this item
if(isAdmin){
let editBtn=document.createElement('button');editBtn.innerText='Edit';editBtn.className='edit-btn';
editBtn.onclick=()=>editItem(tabIndex,itemIndex);div.appendChild(editBtn);

let delBtn=document.createElement('button');delBtn.innerText='Delete';delBtn.className='delete-btn';
delBtn.onclick=()=>{window.eldoData.tabs[tabIndex].items.splice(itemIndex,1);saveAndRender();};div.appendChild(delBtn);}
container.appendChild(div);
}

// Edit item
function editItem(tabIndex,itemIndex){
let item=window.eldoData.tabs[tabIndex].items[itemIndex];
if(item.type==="video"){
let t=prompt("Title",item.title); if(t)item.title=t;
let u=prompt("Video URL",item.url); if(u)item.url=u;
}else{
let t=prompt("Title",item.title); if(t)item.title=t;
let txt=prompt("Text",item.text); if(txt)item.text=txt;
let img=prompt("Image URL",item.img); if(img)item.img=img;
}
saveAndRender();
}

// Add new item to a section
function addItem(tabIndex){
let type=prompt("Item type? news/video");
if(!type || (type!=="news" && type!=="video")) return;
if(type==="news"){let t=prompt("Title"); let txt=prompt("Text"); let img=prompt("Image URL","https://via.placeholder.com/600x300");
if(t && txt) window.eldoData.tabs[tabIndex].items.push({type:"news",title:t,text:txt,img:img});}
else{let t=prompt("Video Title"); let url=prompt("Video URL"); if(t && url) window.eldoData.tabs[tabIndex].items.push({type:"video",title:t,url:url});}
saveAndRender();
}

// Edit section name
function editSection(idx){
let name=prompt("New Section Name",window.eldoData.tabs[idx].name);
if(name) window.eldoData.tabs[idx].name=name;
saveAndRender();
}

// Add new section button
document.getElementById('addSectionBtn').onclick=()=>{
if(!isAdmin)return alert("Admin only!");
let name=prompt("New Section Name");
if(name) window.eldoData.tabs.push({name:name,items:[]}); saveAndRender();
}

// Ticker
function renderTicker(){
document.getElementById('ticker').innerText=(window.eldoData.ticker||[]).join(" âš¡ ");
if(isAdmin){
let tickerInput=document.getElementById('ticker-input');
tickerInput.value=(window.eldoData.ticker||[]).join("|");

// Emoji bar
const emojiBar=document.getElementById('emoji-bar');
emojiBar.innerHTML="";
const emojis=["ðŸ”¥","âš¡","ðŸŽ‰","ðŸ“¢","â­","ðŸŽ¬","ðŸ†"];
emojis.forEach(e=>{
let btn=document.createElement('span');
btn.innerText=e; btn.className="emoji-btn";
btn.onclick=()=>{tickerInput.value+=e;};
emojiBar.appendChild(btn);
});

// Save ticker
document.getElementById('saveTickerBtn').onclick=()=>{
window.eldoData.ticker=tickerInput.value.split("|");
saveAndRender();
};
}
}

function saveAndRender(){localStorage.setItem('eldodata',JSON.stringify(window.eldoData)); renderSite();}

loadData();
</script>
</body>
</html>
